<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referral Incentives</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* General Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f7fc;
            color: #333;
        }

        header {
            background: #0a9396;
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        header .logo {
            font-size: 26px;
            font-weight: bold;
        }

        header .profile-settings button {
            background-color: #ffffff;
            border: none;
            border-radius: 25px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 14px;
            color: #0a9396;
            transition: background-color 0.3s;
        }

        header .profile-settings button:hover {
            background-color: #e0f4f1;
        }

        main {
            display: flex;
            justify-content: center;
            padding: 20px;
        }

        /* Referral Incentives Section */
        .commissions-container {
            width: 80%;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .commissions-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .commissions-header h2 {
            font-size: 28px;
            color: #333;
        }

        /* Search and Filter Widgets */
        .filter-widgets {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 30px;
        }

        .filter-widgets input,
        .filter-widgets select,
        .filter-widgets button {
            padding: 15px;
            font-size: 16px;
            border-radius: 8px;
            border: 1px solid #ddd;
            width: 30%;
        }

        .filter-widgets button {
            background-color: #0a9396;
            color: white;
            cursor: pointer;
            border: none;
        }

        .filter-widgets button:hover {
            background-color: #005f73;
        }

        /* Incentive Summary Table */
        .commission-summary-table {
            margin-top: 30px;
            width: 100%;
            border-collapse: collapse;
            text-align: left;
        }

        .commission-summary-table th,
        .commission-summary-table td {
            padding: 15px;
            border: 1px solid #ddd;
        }

        .commission-summary-table th {
            background-color: #0a9396;
            color: white;
        }

        .commission-summary-table td {
            background-color: #f9f9f9;
        }

        .total-commission {
            text-align: right;
            font-size: 20px;
            margin-top: 20px;
            font-weight: bold;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .pagination button {
            padding: 10px 15px;
            font-size: 14px;
            border: 1px solid #ddd;
            background-color: #0a9396;
            color: white;
            cursor: pointer;
            margin: 0 5px;
        }

        .pagination button:hover {
            background-color: #005f73;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-cogs"></i> Referral Incentives
        </div>
        <div class="profile-settings">
            <button><i class="fas fa-user"></i> Profile</button>
            <button><i class="fas fa-cog"></i> Settings</button>
            <button><i class="fas fa-sign-out-alt"></i> Logout</button>
        </div>
    </header>

    <main>
        <div class="commissions-container">
            <!-- Referral Incentives Header -->
            <div class="commissions-header">
                <h2>Total Referral Incentives</h2>
            </div>

            <!-- Filter Widgets -->
            <div class="filter-widgets">
                <input type="date" id="startDate" />
                <input type="date" id="endDate" />
                <button id="filterButton">Filter by Date</button>
                <button id="exportButton">Export Report</button>
            </div>

            <!-- Incentive Summary Table -->
            <div class="commission-summary-container">
                <table class="commission-summary-table">
                    <thead>
                        <tr>
                            <th>Referral ID</th>
                            <th>Student Name</th>
                            <th>Referral Date</th>
                            <th>Incentive Amount</th>
                        </tr>
                    </thead>
                    <tbody id="commissionList">
                        <!-- Hardcoded Data -->
                        <tr>
                            <td>REF12345</td>
                            <td>John Doe</td>
                            <td>2024-01-15</td>
                            <td>₹150.00</td>
                        </tr>
                        <tr>
                            <td>REF12346</td>
                            <td>Jane Smith</td>
                            <td>2024-01-18</td>
                            <td>₹200.00</td>
                        </tr>
                        <tr>
                            <td>REF12347</td>
                            <td>Samuel Jackson</td>
                            <td>2024-02-05</td>
                            <td>₹100.00</td>
                        </tr>
                        <tr>
                            <td>REF12348</td>
                            <td>Emma White</td>
                            <td>2024-03-12</td>
                            <td>₹250.00</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Total Incentive Summary -->
            <div class="total-commission">
                Total Incentive Earned: ₹700.00
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button id="prevPage">Previous</button>
                <button id="nextPage">Next</button>
            </div>
        </div>
    </main>

    <script>
        // Hardcoded incentive data
        const incentives = [
            { referralId: "REF12345", studentName: "John Doe", date: "2024-01-15", amount: 150 },
            { referralId: "REF12346", studentName: "Jane Smith", date: "2024-01-18", amount: 200 },
            { referralId: "REF12347", studentName: "Samuel Jackson", date: "2024-02-05", amount: 100 },
            { referralId: "REF12348", studentName: "Emma White", date: "2024-03-12", amount: 250 }
        ];

        let currentPage = 1;
        const recordsPerPage = 4;

        function displayIncentives(page) {
            const start = (page - 1) * recordsPerPage;
            const end = page * recordsPerPage;
            const paginatedIncentives = incentives.slice(start, end);

            const list = document.getElementById('commissionList');
            list.innerHTML = '';

            let totalIncentive = 0;

            paginatedIncentives.forEach(incentive => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${incentive.referralId}</td>
                    <td>${incentive.studentName}</td>
                    <td>${incentive.date}</td>
                    <td>₹${incentive.amount.toFixed(2)}</td>
                `;
                list.appendChild(row);
                totalIncentive += incentive.amount;
            });

            // Update total incentive amount
            document.querySelector('.total-commission').innerText = `Total Incentive Earned: ₹${totalIncentive.toFixed(2)}`;
        }

        function filterIncentives() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;

            const filteredIncentives = incentives.filter(incentive => {
                const incentiveDate = new Date(incentive.date);
                const filterStartDate = new Date(startDate);
                const filterEndDate = new Date(endDate);

                return incentiveDate >= filterStartDate && incentiveDate <= filterEndDate;
            });

            // Reset to page 1 when filtering
            currentPage = 1;
            displayFilteredIncentives(filteredIncentives);
        }

        function displayFilteredIncentives(filteredIncentives) {
            const list = document.getElementById('commissionList');
            list.innerHTML = '';

            let totalIncentive = 0;

            filteredIncentives.forEach(incentive => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${incentive.referralId}</td>
                    <td>${incentive.studentName}</td>
                    <td>${incentive.date}</td>
                    <td>₹${incentive.amount.toFixed(2)}</td>
                `;
                list.appendChild(row);
                totalIncentive += incentive.amount;
            });

            // Update total incentive amount
            document.querySelector('.total-commission').innerText = `Total Incentive Earned: ₹${totalIncentive.toFixed(2)}`;
        }

        function exportReport() {
            // Simulate exporting the incentive data to a CSV file
            const csvData = incentives.map(incentive => {
                return `${incentive.referralId},${incentive.studentName},${incentive.date},${incentive.amount}`;
            }).join('\n');

            const csvBlob = new Blob([csvData], { type: 'text/csv' });
            const csvUrl = URL.createObjectURL(csvBlob);
            const a = document.createElement('a');
            a.href = csvUrl;
            a.download = 'incentive_report.csv';
            a.click();
        }

        document.getElementById('filterButton').addEventListener('click', filterIncentives);

        document.getElementById('exportButton').addEventListener('click', exportReport);

        document.getElementById('prevPage').addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                displayIncentives(currentPage);
            }
        });

        document.getElementById('nextPage').addEventListener('click', () => {
            if (currentPage * recordsPerPage < incentives.length) {
                currentPage++;
                displayIncentives(currentPage);
            }
        });

        // Initial display of incentives
        displayIncentives(currentPage);
    </script>
</body>
</html>
